FROM zephyr:7b-beta

# Temperature set to 0.0 is crucial for non-creative, precise configuration output.
PARAMETER temperature 0

# --- MODIFIED TEMPLATE FOR RAG CONTEXT INJECTION ---
TEMPLATE """
{{- if .System }}
<|system|>
{{ .System }}
</s>
{{- end }}
<|user|>
# CONTEXTUAL KNOWLEDGE BASE:
{{ .Context }}

# USER COMMAND:
{{ .Prompt }}
</s>
<|assistant|>
"""
# --- END MODIFIED TEMPLATE ---

# Stop parameters prevent the model from continuing the conversation structure
PARAMETER stop "<|system|>"
PARAMETER stop "<|user|>"
PARAMETER stop "<|assistant|>"
PARAMETER stop "</s>"